# MongoDB commands to manually enroll a student in a course and track progress

# Variables to replace:
# USER_ID = "68823db5abcd11b8158567e5"
# COURSE_ID = "68823e5aabcd11b815856808"

# 1. Create a CourseProgress document for the user and course
db.courseprogress.insertOne({
  courseID: ObjectId("68823e5aabcd11b815856808"),
  userId: ObjectId("68823db5abcd11b8158567e5"),
  completedVideos: []
})

# Note the _id of the inserted CourseProgress document from the result, e.g. COURSE_PROGRESS_ID

# 2. Update the User document to add the course and courseProgress references
db.users.updateOne(
  { _id: ObjectId("68823db5abcd11b8158567e5") },
  {
    $push: {
      courses: ObjectId("68823e5aabcd11b815856808"),
      courseProgress: ObjectId("COURSE_PROGRESS_ID")  # replace with actual ID from step 1
    }
  }
)

# 3. Update the Course document to add the user to studentsEnrolled
db.courses.updateOne(
  { _id: ObjectId("68823e5aabcd11b815856808") },
  {
    $push: {
      studentsEnrolled: ObjectId("68823db5abcd11b8158567e5")
    }
  }
)

# After running these commands, the user will be enrolled in the course with progress tracking initialized.
